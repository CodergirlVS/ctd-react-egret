import { render, fireEvent, screen } from '@testing-library/react';
import AddTodoForm from './AddTodoForm';

describe('AddTodoForm', () => {
  test('should call onAddTodo when clicking the add button', () => {
    // onAddTodo, sortByTitle, sortByPriority

    const mockOnAddTodo = jest.fn();

    render(<AddTodoForm onAddTodo={mockOnAddTodo} />);

    const button = screen.getByText('Add');
    fireEvent.click(button);

    expect(mockOnAddTodo).toHaveBeenCalled();
  });

  test('should have a disabled add button to start', () => {
    render(<AddTodoForm />);

    const button = screen.getByText('Add');

    expect(button.getAttribute('disabled')).toEqual(true);

    const input = screen.getByTestId('my-input');
  });
});